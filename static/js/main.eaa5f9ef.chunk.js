(this["webpackJsonppelago-cypress"]=this["webpackJsonppelago-cypress"]||[]).push([[0],{30:function(e,t,a){e.exports=a(42)},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),s=a(23),o=a.n(s),i=a(4),m=Object(i.a)((function(e){var t=e.store,a=r.a.useRef(),n=function(){t.params.setParamsByField(a.current.name,a.current.value),!t.advanced&&t.params.setParamsByField("page","1"),t.fetchAPI()},l=o()(n,2e3);return r.a.createElement("div",{"data-cy":"search"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{name:"s",disabled:t.loading,ref:a,"data-cy":"input",onChange:l,className:"form-control"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{"data-cy":"btn",disabled:t.loading,className:"btn btn-outline-secondary",onClick:function(){return n()}},r.a.createElement("i",{className:t.loading?"fa fa-gear fa-spin fa-spiner":"fa fa-search"})),r.a.createElement("button",{"data-cy":"advanced",disabled:t.loading,className:"btn btn-outline-primary",onClick:function(){return t.setAdvanced()}},r.a.createElement("i",{className:"fa fa-search-plus"})))))})),p=a(7),u=a(8),d=a(9);function y(){var e=Object(p.a)(["\n    width: 100%;\n    height: 150px;\n    background-image: url(",");\n    background-position: center center;\n    background-size: cover;\n    @media (min-width: 576px) {\n        width: 150px;\n    }\n"]);return y=function(){return e},e}var g=u.b.div(y(),(function(e){return"N/A"!==e.url?e.url:"https://via.placeholder.com/150"})),E=Object(i.a)((function(e){var t=e.store.data,a=t.Search,n=t.Error,l=Object(d.f)();return n?r.a.createElement("div",{"data-cy":"error",className:"alert alert-danger"},n):r.a.createElement("div",{className:"row","data-cy":"list"},a.map((function(e,t){return r.a.createElement("div",{key:t,className:"col-md-6 mb-3"},r.a.createElement("div",{className:"card border shadow"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-auto"},r.a.createElement(g,{url:e.Poster,className:"card-img"})),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{"data-cy":"click-to-detailed",className:"card-title primary pointer",onClick:(a=e.imdbID,function(){return l.push("/".concat(a))})},e.Title),r.a.createElement("div",{className:"card-text secondary"},e.imdbID),r.a.createElement("div",{"data-cy":"year",className:"card-text"},e.Year),r.a.createElement("div",{"data-cy":"type",className:"card-text"},e.Type))))));var a})))})),f=Object(i.a)((function(e){var t=e.store,a=t.params,n=t.types,l=function(e){return t.params.setParamsByField(e.target.name,e.target.value)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{"data-cy":"advanced-search",className:"row mb-3"},r.a.createElement("div",{className:"col-sm mb-3 mb-sm-0"},r.a.createElement("select",{"data-cy":"type",className:"form-control",onChange:l,name:"type",value:a.type},r.a.createElement("option",{value:""},"select type"),n.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("div",{"data-cy":"year",className:"col-sm mb-3 mb-sm-0"},r.a.createElement("input",{placeholder:"Enter year. ex 2015",type:"number",name:"y",value:a.y,className:"form-control",onChange:l})),r.a.createElement("div",{"data-cy":"page",className:"col-sm mb-3 mb-sm-0"},r.a.createElement("input",{placeholder:"Enter page. ex 1/2/3/4/5",type:"number",name:"page",value:a.page,className:"form-control",onChange:l}))))})),b=Object(i.a)((function(e){var t=e.store,a=t.pagination,n=a.page,l=a.max,c=a.min,s=a.pages,o=function(e){return function(){t.params.setParamsByField("page",e.toString()),t.fetchAPI()}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{"data-cy":"pagination"},r.a.createElement("ul",{className:"pagination justify-content-center table-responsive"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:t.loading,className:"page-link",onClick:o(1)},r.a.createElement("i",{className:"fa fa-angle-double-left"}))),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:t.loading,className:"page-link",onClick:o(n-1<c?c:n-1)},r.a.createElement("i",{className:"fa fa-angle-left"}))),s.map((function(e,a){return r.a.createElement("li",{key:a,className:"page-item ".concat(n===e?"active":"")},r.a.createElement("button",{disabled:t.loading,className:"page-link",onClick:o(e)},e))})),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:t.loading,className:"page-link",onClick:o(n+1>l?l:n+1)},r.a.createElement("i",{className:"fa fa-angle-right"}))),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:t.loading,className:"page-link",onClick:o(l)},r.a.createElement("i",{className:"fa fa-angle-double-right"}))))))})),v=Object(i.a)((function(e){var t=e.store;return r.a.createElement("section",{"data-cy":"movie"},r.a.createElement(m,{store:t}),t.advanced&&r.a.createElement(f,{store:t}),t.loading?r.a.createElement("div",{className:"mb-3"},"...loading ",r.a.createElement("i",{className:"fa fa-gear fa-spin fa-spinner"})):r.a.createElement(E,{store:t}),t.data.totalResults>0&&r.a.createElement(b,{store:t}))}));function h(){var e=Object(p.a)(["\n    width: 100%;\n    height: 200px;\n    background-image: url(",");\n    background-position: center center;\n    background-size: cover;\n    @media (min-width: 576px) {\n        /* width: 150px; */\n        width: 50%;\n        height: 300px;\n    }\n"]);return h=function(){return e},e}var N=u.b.div(h(),(function(e){return"N/A"!==e.url?e.url:"https://via.placeholder.com/150"})),w=Object(i.a)((function(e){var t=Object(d.g)().id,a=e.store,n=a.detailed;return r.a.useEffect((function(){a.fetchDetail(t)}),[a,t]),a.loading?r.a.createElement("div",null,"...Loading ",r.a.createElement("i",{className:"fa fa-gear fa-spin fa-spinner"})):n.Response?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card border shadow","data-cy":"detailed"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement(N,{url:n.Poster,className:"card-img m-auto"}),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"imdbID: "),r.a.createElement("td",null,n.imdbID)),r.a.createElement("tr",null,r.a.createElement("td",null,"Title: "),r.a.createElement("td",null,n.Title)),r.a.createElement("tr",null,r.a.createElement("td",null,"Title: "),r.a.createElement("td",null,n.Year)),r.a.createElement("tr",null,r.a.createElement("td",null,"Rated: "),r.a.createElement("td",null,n.Rated)),r.a.createElement("tr",null,r.a.createElement("td",null,"Released: "),r.a.createElement("td",null,n.Released)),r.a.createElement("tr",null,r.a.createElement("td",null,"Runtime: "),r.a.createElement("td",null,n.Runtime)),r.a.createElement("tr",null,r.a.createElement("td",null,"Genre: "),r.a.createElement("td",null,n.Genre)),r.a.createElement("tr",null,r.a.createElement("td",null,"Director: "),r.a.createElement("td",null,n.Director)),r.a.createElement("tr",null,r.a.createElement("td",null,"Writer: "),r.a.createElement("td",null,n.Writer)),r.a.createElement("tr",null,r.a.createElement("td",null,"Actors: "),r.a.createElement("td",null,n.Actors)),r.a.createElement("tr",null,r.a.createElement("td",null,"Plot: "),r.a.createElement("td",null,n.Plot)),r.a.createElement("tr",null,r.a.createElement("td",null,"Language: "),r.a.createElement("td",null,n.Language)),r.a.createElement("tr",null,r.a.createElement("td",null,"Country: "),r.a.createElement("td",null,n.Country)),r.a.createElement("tr",null,r.a.createElement("td",null,"Awards: "),r.a.createElement("td",null,n.Awards)),r.a.createElement("tr",null,r.a.createElement("td",null,"Metascore: "),r.a.createElement("td",null,n.Metascore)),r.a.createElement("tr",null,r.a.createElement("td",null,"imdbRating: "),r.a.createElement("td",null,n.imdbRating)),r.a.createElement("tr",null,r.a.createElement("td",null,"imdbVotes: "),r.a.createElement("td",null,n.imdbVotes)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type: "),r.a.createElement("td",null,n.Type)),r.a.createElement("tr",null,r.a.createElement("td",null,"DVD: "),r.a.createElement("td",null,n.DVD)),r.a.createElement("tr",null,r.a.createElement("td",null,"BoxOffice: "),r.a.createElement("td",null,n.BoxOffice)),r.a.createElement("tr",null,r.a.createElement("td",null,"Production: "),r.a.createElement("td",null,n.Production)),r.a.createElement("tr",null,r.a.createElement("td",null,"Website: "),r.a.createElement("td",null,n.Website)),r.a.createElement("tr",null,r.a.createElement("td",null,"Ratings: "),r.a.createElement("td",null,n.Ratings.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("span",null,e.Source)," = ",r.a.createElement("span",null,e.Value))})))))))))):r.a.createElement("div",{className:"alert alert-danger"},n.Error)}));function k(){var e=Object(p.a)(["\n    /* @import 'https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css';\n    @import 'https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'; */\n\n    body {\n        font-family: 'Helvetica Neue';\n        font-size: 16px;\n        color: #34283f;\n    }\n    \n    .primary {\n        color: #7faae4;\n    }\n    .secondary {\n        color: #834db7;\n    }\n    .tertiary {\n        color: #34283f;\n    }\n    .pointer {\n        cursor: pointer;\n    }\n"]);return k=function(){return e},e}var x=Object(u.a)(k()),R=a(15),j=a.n(R),O=a(21),P=a(1),C=P.types.model({min:P.types.optional(P.types.number,1),pageLength:P.types.optional(P.types.number,5)}).views((function(e){return{get page(){return Object(P.getParent)(e).params.page?parseInt(Object(P.getParent)(e).params.page,10):1},get max(){var t=parseInt(Object(P.getParent)(e).data.totalResults/10,10);return Object(P.getParent)(e).data.totalResults%10>0?t+1:t},get diff(){return Math.floor(e.pageLength/2)},get offset(){var t=e.page-e.diff;return t<e.min&&(t=e.min),e.page+e.diff>=e.max&&(t=e.max-2*e.diff),e.max<e.pageLength&&(t=e.min),t},get pages(){return Array.from({length:e.max>e.pageLength?e.pageLength:e.max}).map((function(t,a){return a+e.offset}))}}})).actions((function(){return{}})),D=P.types.model({apikey:"185c5ebb",s:P.types.optional(P.types.string,""),page:P.types.optional(P.types.string,""),y:P.types.optional(P.types.string,""),type:P.types.optional(P.types.string,"")}).actions((function(e){return{setParamsByField:function(t,a){e[t]=a}}})),I=P.types.model({Title:P.types.optional(P.types.string,""),Year:P.types.optional(P.types.string,""),Rated:P.types.optional(P.types.string,""),Released:P.types.optional(P.types.string,""),Runtime:P.types.optional(P.types.string,""),Genre:P.types.optional(P.types.string,""),Director:P.types.optional(P.types.string,""),Writer:P.types.optional(P.types.string,""),Actors:P.types.optional(P.types.string,""),Plot:P.types.optional(P.types.string,""),Language:P.types.optional(P.types.string,""),Country:P.types.optional(P.types.string,""),Awards:P.types.optional(P.types.string,""),Poster:P.types.optional(P.types.string,""),Ratings:P.types.frozen(),Metascore:P.types.optional(P.types.string,""),imdbRating:P.types.optional(P.types.string,""),imdbVotes:P.types.optional(P.types.string,""),imdbID:P.types.optional(P.types.string,""),Type:P.types.optional(P.types.string,""),DVD:P.types.optional(P.types.string,""),BoxOffice:P.types.optional(P.types.string,""),Production:P.types.optional(P.types.string,""),Website:P.types.optional(P.types.string,""),Response:P.types.optional(P.types.boolean,!1),Error:P.types.optional(P.types.string,"")}).actions((function(e){return{setById:function(t){Object(P.applySnapshot)(e,t)}}})),L=P.types.model({Response:P.types.optional(P.types.boolean,!1),totalResults:P.types.optional(P.types.number,0),Search:P.types.array(I,[]),Error:P.types.optional(P.types.string,"")}).actions((function(e){return{getById:function(t){return e.Search.find((function(e){return e.imdbID===t}))}}})),A=P.types.model({url:"https://www.omdbapi.com/?",loading:P.types.optional(P.types.boolean,!1),advanced:P.types.optional(P.types.boolean,!1),params:P.types.maybe(D),data:P.types.maybe(L),types:P.types.frozen(["movie","series","episode"]),pagination:P.types.maybe(C),detailed:P.types.maybe(I)}).views((function(){return{}})).actions((function(e){return{afterCreate:function(){e.params=D.create(),e.data=L.create(),e.pagination=C.create(),e.detailed=I.create()},getQuery:function(t){return e.url+Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},setAdvanced:function(){e.advanced=!e.advanced,e.params=e.advanced?e.params:D.create({s:e.params.s})},setLoading:function(t){e.loading=t},fetchDetail:Object(P.flow)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.prev=1,t.next=4,fetch(e.getQuery({apikey:e.params.apikey,i:a}),{});case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,Object(P.applySnapshot)(e.detailed,Object(O.a)({},r,{Response:"True"===r.Response})),e.setLoading(!1),t.abrupt("return",n);case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0.message),Object(P.applySnapshot)(e.detailed,{Error:t.t0.message,Response:!1}),e.setLoading(!1);case 18:case"end":return t.stop()}}),t,null,[[1,13]])}))),fetchAPI:Object(P.flow)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.prev=1,t.next=4,fetch(e.getQuery(Object(P.getSnapshot)(e.params)),{});case 4:return a=t.sent,t.next=7,a.json();case 7:return n=t.sent,Object(P.applySnapshot)(e.data,Object(O.a)({},n,{totalResults:n.totalResults?parseInt(n.totalResults,10):0,Response:"True"===n.Response,Error:n.Error?n.Error:""})),e.setLoading(!1),t.abrupt("return",a);case 13:t.prev=13,t.t0=t.catch(1),Object(P.applySnapshot)(e.data,{totalResults:0,Response:!1,Error:t.t0.message}),e.setLoading(!1);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))}})).create(),S=r.a.createContext(),B=S.Provider;function T(){var e=r.a.useContext(S);if(null===e)throw new Error("Store cannot be null, please add a context provider");return e}var F=a(11);function W(){var e=Object(p.a)(["\n    font-size: 18px;\n"]);return W=function(){return e},e}var V=u.b.header(W()),z=function(){var e=Object(d.f)();return r.a.createElement(V,{"data-cy":"header",className:"mb-3 card border shadow pointer",onClick:function(){return e.push("/")}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"primary"},"Singtel-GO"),r.a.createElement("div",{className:"secondary"},"Quote Sample List")))},G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null),r.a.createElement(F.a,null,r.a.createElement("article",{className:"App container","data-cy":"app"},r.a.createElement(z,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/:id"},r.a.createElement(w,{store:T()})),r.a.createElement(d.a,{path:"/"},r.a.createElement(v,{store:T()}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(28);c.a.render(r.a.createElement(B,{value:A},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.eaa5f9ef.chunk.js.map