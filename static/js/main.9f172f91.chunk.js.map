{"version":3,"sources":["components/movie/Header.js","components/movie/Search.js","components/movie/List.js","components/movie/Advanced.js","components/movie/Pagination.js","components/movie/index.js","AppStyled.js","store/index.js","App.js","serviceWorker.js","index.js"],"names":["StyledHeader","styled","header","Header","data-cy","className","observer","props","store","onChange","debounce","params","setParamsByField","ref","current","name","value","advanced","fetchAPI","React","useRef","disabled","loading","onClick","setAdvanced","StyledImg","div","url","Search","Error","map","d","i","key","Poster","Title","imdbID","Year","Type","types","e","target","Fragment","type","placeholder","y","page","parseInt","total","data","totalResults","diff","Math","floor","tmpLength","offset","pages","Array","from","length","toString","AppStyled","createGlobalStyle","Pagination","model","optional","number","actions","self","prev","console","log","getParent","setCurrent","next","v","Params","apikey","s","string","n","Data","Response","boolean","array","maybe","frozen","pagination","views","Object","keys","getSnapshot","k","encodeURIComponent","join","afterCreate","create","setLoading","flow","fetch","query","response","json","applySnapshot","message","StoreContext","createContext","Provider","useMst","useContext","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9f172f91.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledHeader = styled.header`\n    font-size: 18px;\n`;\n\nconst Header = () => {\n    return <StyledHeader data-cy=\"header\" className=\"mb-3 card border shadow\">\n        <div className=\"card-body\">\n            <div className=\"primary\">Singtel-GO</div>\n            <div className=\"secondary\">Quote Sample List</div>\n        </div>\n    </StyledHeader>;\n};\n\nexport default Header;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash.debounce';\nimport { observer } from 'mobx-react';\n\nconst Search = props => {\n    const { store } = props;\n    const onChange = debounce(() => {\n        store.params.setParamsByField(ref.current.name, ref.current.value);\n        !store.advanced && store.params.setParamsByField('page', '1');\n        store.fetchAPI();\n    }, 2000);\n\n    const onClick = () => {\n        !store.advanced && store.params.setParamsByField('page', '1');\n        store.fetchAPI();\n    };\n    const ref = React.useRef();\n\n    return <div data-cy=\"search\">\n        <div className=\"input-group mb-3\">\n            <input name=\"s\" disabled={store.loading} ref={ref} data-cy=\"input\" onChange={onChange} className=\"form-control\" />\n            <div className=\"input-group-append\">\n                <button data-cy=\"btn\" disabled={store.loading} className=\"btn btn-outline-secondary\" onClick={onClick}><i className={store.loading ? 'fa fa-gear fa-spin fa-spiner' : 'fa fa-search'}></i></button>\n                <button data-cy=\"advanced\" disabled={store.loading} className=\"btn btn-outline-primary\" onClick={() => store.setAdvanced()}><i className=\"fa fa-search-plus\"></i></button>\n            </div>\n        </div>\n    </div>;\n};\n\nSearch.propTypes = {\n    store: PropTypes.object\n};\n\nexport default observer(Search);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { observer } from 'mobx-react';\n\nconst StyledImg = styled.div`\n    width: 100%;\n    height: 150px;\n    background-image: url(${props => props.url !== 'N/A' ? props.url : 'https://via.placeholder.com/150'});\n    background-position: center center;\n    background-size: cover;\n    @media (min-width: 576px) {\n        width: 150px;\n    }\n`;\n\nconst List = props => {\n    const { Search, Error } = props;\n\n    return Error ?\n        <div data-cy=\"error\">{Error}</div>\n        : <div className=\"row\" data-cy=\"list\">\n            {Search.map((d, i) => <div key={i} className=\"col-md-6 mb-3\">\n                <div className=\"card border shadow\">\n                    <div className=\"row no-gutters\">\n                        <div className=\"col-sm-auto\">\n                            <StyledImg url={d.Poster} className=\"card-img\" />\n                        </div>\n                        <div className=\"col-sm\">\n                            <div className=\"card-body\">\n                                <div className=\"card-title primary\">{d.Title}</div>\n                                <div className=\"card-text secondary\">{d.imdbID}</div>\n                                <div data-cy=\"year\" className=\"card-text\">{d.Year}</div>\n                                <div data-cy=\"type\" className=\"card-text\">{d.Type}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>)}\n        </div>;\n};\n\nList.propTypes = {\n    Search: PropTypes.array,\n    Error: PropTypes.string\n};\n\nexport default observer(List);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { observer } from 'mobx-react';\n\nconst Advanced = props => {\n    const { store } = props;\n    const { params, types } = store;\n\n    const onChange = e => store.params.setParamsByField(e.target.name, e.target.value);\n\n    return <React.Fragment>\n        <form data-cy=\"advanced-search\" className=\"row mb-3\">\n            <div className=\"col-sm\">\n                <select data-cy=\"type\" className=\"form-control\" onChange={onChange} name=\"type\" value={params.type}>\n                    <option value=\"\">select type</option>\n                    {types.map((d, i) => <option key={i} value={d}>{d}</option>)}\n                </select>\n            </div>\n            <div data-cy=\"year\" className=\"col-sm\"><input placeholder=\"Enter year. ex 2015\" type=\"number\" name=\"y\" value={params.y} className=\"form-control\" onChange={onChange} /></div>\n            <div data-cy=\"page\" className=\"col-sm\"><input placeholder=\"Enter page. ex 1/2/3/4/5\" type=\"number\" name=\"page\" value={params.page} className=\"form-control\" onChange={onChange} /></div>\n        </form>\n    </React.Fragment>;\n};\n\nAdvanced.propTypes = {\n    store: PropTypes.object\n};\n\nexport default observer(Advanced);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { observer } from 'mobx-react';\n\nconst Pagination = props => {\n    const { store } = props;\n    const page = store.params.page ? parseInt(store.params.page, 10) : 1;\n    let total = parseInt(store.data.totalResults / 10, 10);\n    total = store.data.totalResults % 10 > 0 ? total + 1 : total;\n    const min = 1;\n    const tmpLength = 5;\n    const diff = Math.floor(tmpLength / 2);\n    let offset = page - diff;\n    if (offset < min) offset = min;\n    if (page + diff >= total) offset = total - (diff * 2);\n    if (total < tmpLength) offset = min;\n    const pages = Array.from({ length: total > tmpLength ? tmpLength : total }).map((d, i) => i + offset);\n    const onClick = i => () => {\n        store.params.setParamsByField('page', i.toString());\n        store.fetchAPI();\n    };\n\n    return <React.Fragment>\n        <nav data-cy=\"pagination\">\n            <ul className=\"pagination justify-content-center table-responsive\">\n                <li className=\"page-item\"><button disabled={store.loading} className=\"page-link\" onClick={onClick(1)}><i className=\"fa fa-angle-double-left\"></i></button></li>\n                <li className=\"page-item\"><button disabled={store.loading} className=\"page-link\" onClick={onClick(page - 1 < min ? min : page - 1)}><i className=\"fa fa-angle-left\"></i></button></li>\n                {pages.map((d, i) => <li key={i} className={`page-item ${page === d ? 'active' : ''}`}><button disabled={store.loading} className=\"page-link\" onClick={onClick(d)}>{d}</button></li>)}\n                <li className=\"page-item\"><button disabled={store.loading} className=\"page-link\" onClick={onClick(page + 1 > total ? total : page + 1)}><i className=\"fa fa-angle-right\"></i></button></li>\n                <li className=\"page-item\"><button disabled={store.loading} className=\"page-link\" onClick={onClick(total)}><i className=\"fa fa-angle-double-right\"></i></button></li>\n            </ul>\n        </nav>\n    </React.Fragment >;\n};\n\nPagination.propTypes = {\n    store: PropTypes.object\n};\n\nexport default observer(Pagination);","import React from 'react';\nimport Header from './Header';\nimport Search from './Search';\nimport List from './List';\nimport Advanced from './Advanced';\nimport Pagination from './Pagination';\nimport { observer, PropTypes } from 'mobx-react';\n// import PropTypes from 'prop-types';\n\nconst Movie = props => {\n    const { store } = props;\n    return <section data-cy=\"movie\">\n        <Header />\n        <Search store={store} />\n        {store.advanced && <Advanced store={store} />}\n        <List {...store.data} />\n        {store.data.totalResults > 0 && <Pagination store={store} />}\n    </section>;\n};\n\nMovie.propTypes = {\n    store: PropTypes.observableObject\n};\n\nexport default observer(Movie);","import { createGlobalStyle } from 'styled-components';\n\nconst AppStyled = createGlobalStyle`\n    /* @import 'https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css';\n    @import 'https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'; */\n\n    body {\n        font-family: 'Helvetica Neue';\n        font-size: 16px;\n        color: #34283f;\n    }\n    \n    .primary {\n        color: #7faae4;\n    }\n    .secondary {\n        color: #834db7;\n    }\n    .tertiary {\n        color: #34283f;\n    }\n`;\n\nexport default AppStyled;\n","import React from 'react';\nimport { types, flow, applySnapshot, getSnapshot, getParent } from 'mobx-state-tree';\n\nconst Pagination = types.model({\n    // current: types.optional(types.number, 1),\n    total: types.optional(types.number, 1),\n}).actions(self => ({\n    prev() {\n        console.log(getParent(self));\n        self.setCurrent(self.current - 1);\n    },\n    next() {\n        self.setCurrent(self.current + 1);\n    },\n    setCurrent(v) {\n        self.current = v < 1 ? 1 : v > self.total ? self.total : v;\n    }\n}));\n\nconst Params = types.model({\n    apikey: '185c5ebb',\n    s: types.optional(types.string, ''),\n    page: types.optional(types.string, ''),\n    y: types.optional(types.string, ''),\n    type: types.optional(types.string, '')\n}).actions(self => ({\n    setParamsByField(n, v) {\n        self[n] = v;\n    }\n}));\n\nconst Search = types.model({\n    Title: types.optional(types.string, ''),\n    Year: '',\n    imdbID: '',\n    Type: '',\n    Poster: ''\n});\n\nconst Data = types.model({\n    Response: types.optional(types.boolean, false),\n    totalResults: types.optional(types.number, 0),\n    Search: types.array(Search, []),\n    Error: types.optional(types.string, '')\n});\n\nconst Store = types.model({\n    url: 'https://www.omdbapi.com/?',\n    loading: types.optional(types.boolean, false),\n    advanced: types.optional(types.boolean, false),\n    params: types.maybe(Params),\n    data: types.maybe(Data),\n    types: types.frozen(['movie', 'series', 'episode']),\n    pagination: types.maybe(Pagination)\n}).views(self => ({\n    get query() {\n        return self.url + Object.keys(getSnapshot(self.params))\n            .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(getSnapshot(self.params)[k]))\n            .join('&');\n    },\n})).actions(self => ({\n    afterCreate() {\n        self.params = Params.create();\n        self.data = Data.create();\n        self.pagination = Pagination.create();\n    },\n    setAdvanced() {\n        self.advanced = !self.advanced;\n        self.params = self.advanced ? self.params : Params.create({\n            s: self.params.s\n        });\n    },\n    setLoading(v) {\n        self.loading = v;\n    },\n    fetchAPI: flow(function* fetchAPI() {\n        self.setLoading(true);\n        try {\n            const response = yield fetch(self.query, {\n                // method: 'POST', // or 'PUT'\n                // headers: {\n                //     'Content-Type': 'application/json',\n                // },\n                // body: JSON.stringify(params),\n            });\n\n            const d = yield response.json();\n            console.log('success');\n            applySnapshot(self.data, {\n                ...d,\n                totalResults: d.totalResults ? parseInt(d.totalResults, 10) : 0,\n                Response: d.Response === 'True' ? true : false,\n                Error: d.Error ? d.Error : ''\n            });\n            self.setLoading(false);\n\n            return response;\n        } catch (error) {\n            console.log(error.message);\n            applySnapshot(self.data, {\n                totalResults: 0,\n                Response: false,\n                Error: error.message\n            });\n            self.setLoading(false);\n        }\n    })\n}));\n\nexport const store = Store.create();\n\n// onSnapshot(store, snapshot => console.log('Snapshot: ', snapshot));\n\nconst StoreContext = React.createContext();\n\nexport const Provider = StoreContext.Provider;\n\nexport function useMst() {\n    const store = React.useContext(StoreContext);\n    if (store === null) throw new Error('Store cannot be null, please add a context provider');\n    return store;\n}","import React from 'react';\nimport Movie from 'components/movie';\nimport AppStyled from 'AppStyled';\nimport PropTypes from 'prop-types';\nimport { useMst } from 'store';\n\nconst App = () => {\n    return <React.Fragment>\n        <AppStyled />\n        <article className=\"App container\" data-cy=\"app\">\n            <Movie store={useMst()} />\n        </article>\n    </React.Fragment>;\n};\n\nApp.propTypes = {\n    store: PropTypes.object\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider, store } from 'store';\nimport { onPatch, onSnapshot } from 'mobx-state-tree';\nimport makeInspectable from 'mobx-devtools-mst';\n\nconst mstDebug = () => {\n    makeInspectable(store);\n    onPatch(store, patch => console.log(patch));\n    onSnapshot(store, snapshot => console.log('Snapshot: ', snapshot));\n};\n\nprocess.env.NODE_ENV === 'development' && mstDebug();\n\nReactDOM.render(<Provider value={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}