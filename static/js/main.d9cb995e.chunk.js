(this["webpackJsonppelago-cypress"]=this["webpackJsonppelago-cypress"]||[]).push([[0],{21:function(e,a,t){e.exports=t(30)},30:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(7),c=t.n(s),o=t(5),l=t(6);function i(){var e=Object(o.a)(["\n    font-size: 18px;\n"]);return i=function(){return e},e}var m=l.b.header(i()),p=function(){return r.a.createElement(m,{"data-cy":"header",className:"mb-3 card border shadow"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"primary"},"Singtel-GO"),r.a.createElement("div",{className:"secondary"},"Quote Sample List")))},d=t(17),u=t.n(d),y=t(3),f=Object(y.a)((function(e){var a=e.store,t=u()((function(){a.params.setParamsByField(n.current.name,n.current.value),!a.advanced&&a.params.setParamsByField("page","1"),a.fetchAPI()}),2e3),n=r.a.useRef();return r.a.createElement("div",{"data-cy":"search"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{name:"s",disabled:a.loading,ref:n,"data-cy":"input",onChange:t,className:"form-control"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{"data-cy":"btn",disabled:a.loading,className:"btn btn-outline-secondary",onClick:function(){!a.advanced&&a.params.setParamsByField("page","1"),a.fetchAPI()}},r.a.createElement("i",{className:a.loading?"fa fa-gear fa-spin fa-spiner":"fa fa-search"})),r.a.createElement("button",{"data-cy":"advanced",disabled:a.loading,className:"btn btn-outline-primary",onClick:function(){return a.setAdvanced()}},r.a.createElement("i",{className:"fa fa-search-plus"})))))}));function g(){var e=Object(o.a)(["\n    width: 100%;\n    height: 150px;\n    background-image: url(",");\n    background-position: center center;\n    background-size: cover;\n    @media (min-width: 576px) {\n        width: 150px;\n    }\n"]);return g=function(){return e},e}var b=l.b.div(g(),(function(e){return"N/A"!==e.url?e.url:"https://via.placeholder.com/150"})),v=Object(y.a)((function(e){var a=e.Search,t=e.Error;return t?r.a.createElement("div",{"data-cy":"error"},t):r.a.createElement("div",{className:"row","data-cy":"list"},a.map((function(e,a){return r.a.createElement("div",{key:a,className:"col-md-6 mb-3"},r.a.createElement("div",{className:"card border shadow"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-auto"},r.a.createElement(b,{url:e.Poster,className:"card-img"})),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title primary"},e.Title),r.a.createElement("div",{className:"card-text secondary"},e.imdbID),r.a.createElement("div",{"data-cy":"year",className:"card-text"},e.Year),r.a.createElement("div",{"data-cy":"type",className:"card-text"},e.Type))))))})))})),E=Object(y.a)((function(e){var a=e.store,t=a.params,n=a.types,s=function(e){return a.params.setParamsByField(e.target.name,e.target.value)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{"data-cy":"advanced-search",className:"row mb-3"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("select",{"data-cy":"type",className:"form-control",onChange:s,name:"type",value:t.type},r.a.createElement("option",{value:""},"select type"),n.map((function(e,a){return r.a.createElement("option",{key:a,value:e},e)})))),r.a.createElement("div",{"data-cy":"year",className:"col-sm"},r.a.createElement("input",{placeholder:"Enter year. ex 2015",type:"number",name:"y",value:t.y,className:"form-control",onChange:s})),r.a.createElement("div",{"data-cy":"page",className:"col-sm"},r.a.createElement("input",{placeholder:"Enter page. ex 1/2/3/4/5",type:"number",name:"page",value:t.page,className:"form-control",onChange:s}))))})),h=Object(y.a)((function(e){var a=e.store,t=a.params.page?parseInt(a.params.page,10):1,n=parseInt(a.data.totalResults/10,10);n=a.data.totalResults%10>0?n+1:n;var s=Math.floor(2.5),c=t-s;c<1&&(c=1),t+s>=n&&(c=n-2*s),n<5&&(c=1);var o=Array.from({length:n>5?5:n}).map((function(e,a){return a+c})),l=function(e){return function(){a.params.setParamsByField("page",e.toString()),a.fetchAPI()}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{"data-cy":"pagination"},r.a.createElement("ul",{className:"pagination justify-content-center table-responsive"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:a.loading,className:"page-link",onClick:l(1)},r.a.createElement("i",{className:"fa fa-angle-double-left"}))),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:a.loading,className:"page-link",onClick:l(t-1<1?1:t-1)},r.a.createElement("i",{className:"fa fa-angle-left"}))),o.map((function(e,n){return r.a.createElement("li",{key:n,className:"page-item ".concat(t===e?"active":"")},r.a.createElement("button",{disabled:a.loading,className:"page-link",onClick:l(e)},e))})),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:a.loading,className:"page-link",onClick:l(t+1>n?n:t+1)},r.a.createElement("i",{className:"fa fa-angle-right"}))),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:a.loading,className:"page-link",onClick:l(n)},r.a.createElement("i",{className:"fa fa-angle-double-right"}))))))})),N=Object(y.a)((function(e){var a=e.store;return r.a.createElement("section",{"data-cy":"movie"},r.a.createElement(p,null),r.a.createElement(f,{store:a}),a.advanced&&r.a.createElement(E,{store:a}),r.a.createElement(v,a.data),a.data.totalResults>0&&r.a.createElement(h,{store:a}))}));function w(){var e=Object(o.a)(["\n    /* @import 'https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css';\n    @import 'https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'; */\n\n    body {\n        font-family: 'Helvetica Neue';\n        font-size: 16px;\n        color: #34283f;\n    }\n    \n    .primary {\n        color: #7faae4;\n    }\n    .secondary {\n        color: #834db7;\n    }\n    .tertiary {\n        color: #34283f;\n    }\n"]);return w=function(){return e},e}var k=Object(l.a)(w()),j=t(12),x=t.n(j),C=t(18),O=t(2),R=O.types.model({total:O.types.optional(O.types.number,1)}).actions((function(e){return{prev:function(){console.log(Object(O.getParent)(e)),e.setCurrent(e.current-1)},next:function(){e.setCurrent(e.current+1)},setCurrent:function(a){e.current=a<1?1:a>e.total?e.total:a}}})),P=O.types.model({apikey:"185c5ebb",s:O.types.optional(O.types.string,""),page:O.types.optional(O.types.string,""),y:O.types.optional(O.types.string,""),type:O.types.optional(O.types.string,"")}).actions((function(e){return{setParamsByField:function(a,t){e[a]=t}}})),I=O.types.model({Title:O.types.optional(O.types.string,""),Year:"",imdbID:"",Type:"",Poster:""}),S=O.types.model({Response:O.types.optional(O.types.boolean,!1),totalResults:O.types.optional(O.types.number,0),Search:O.types.array(I,[]),Error:O.types.optional(O.types.string,"")}),A=O.types.model({url:"https://www.omdbapi.com/?",loading:O.types.optional(O.types.boolean,!1),advanced:O.types.optional(O.types.boolean,!1),params:O.types.maybe(P),data:O.types.maybe(S),types:O.types.frozen(["movie","series","episode"]),pagination:O.types.maybe(R)}).views((function(e){return{get query(){return e.url+Object.keys(Object(O.getSnapshot)(e.params)).map((function(a){return encodeURIComponent(a)+"="+encodeURIComponent(Object(O.getSnapshot)(e.params)[a])})).join("&")}}})).actions((function(e){return{afterCreate:function(){e.params=P.create(),e.data=S.create(),e.pagination=R.create()},setAdvanced:function(){e.advanced=!e.advanced,e.params=e.advanced?e.params:P.create({s:e.params.s})},setLoading:function(a){e.loading=a},fetchAPI:Object(O.flow)(x.a.mark((function a(){var t,n;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setLoading(!0),a.prev=1,a.next=4,fetch(e.query,{});case 4:return t=a.sent,a.next=7,t.json();case 7:return n=a.sent,console.log("success"),Object(O.applySnapshot)(e.data,Object(C.a)({},n,{totalResults:n.totalResults?parseInt(n.totalResults,10):0,Response:"True"===n.Response,Error:n.Error?n.Error:""})),e.setLoading(!1),a.abrupt("return",t);case 14:a.prev=14,a.t0=a.catch(1),console.log(a.t0.message),Object(O.applySnapshot)(e.data,{totalResults:0,Response:!1,Error:a.t0.message}),e.setLoading(!1);case 19:case"end":return a.stop()}}),a,null,[[1,14]])})))}})).create(),F=r.a.createContext(),B=F.Provider;function L(){var e=r.a.useContext(F);if(null===e)throw new Error("Store cannot be null, please add a context provider");return e}var T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("article",{className:"App container","data-cy":"app"},r.a.createElement(N,{store:L()})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(19);c.a.render(r.a.createElement(B,{value:A},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.d9cb995e.chunk.js.map